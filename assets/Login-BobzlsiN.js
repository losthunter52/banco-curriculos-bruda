import{_,a1 as g,c as v,p as n,a as o,ap as x,F as b,aV as w,z as k,o as y,aW as V,aX as S}from"./index-BPsnFxcK.js";import{s as I}from"./index-DsnJb64o.js";import{a as C,s as E}from"./api-BR7IMiTS.js";import{F as c}from"./FloatingConfigurator-DP8K7qYr.js";const F={components:{FloatingConfigurator:c},data(){return{router:g(),username:"",password:"",invalid:!1,loading:!1}},methods:{showToast(a,s,t,r=1e4){this.$toast.add({severity:a,summary:s,detail:t,life:r})},login(){this.loading=!0,C.postLogin(this.username,this.password).then(a=>{this.$router.push("/")}).catch(a=>{var e,i;let s="error",t="Erro Desconhecido",r="Ocorreu um erro inesperado. Por favor, entre em contato com o administrador do sistema para assistência.";((e=a.response)==null?void 0:e.status)===400?(s="warn",t="Preenchimento Incompleto",r="Por favor, preencha tanto o nome de usuário quanto a senha para continuar.",this.invalid=!0):((i=a.response)==null?void 0:i.status)===401?(t="Falha na Autenticação",r="O nome de usuário ou a senha fornecidos estão incorretos. Verifique suas credenciais e tente novamente.",this.invalid=!0):a.code==="ERR_NETWORK"&&(t="Problema de Conexão",r="Não foi possível conectar ao servidor. Verifique sua conexão de rede e tente novamente mais tarde. Se o problema persistir, entre em contato com o administrador do sistema para obter assistência."),this.showToast(s,t,r),this.loading=!1})}},created(){localStorage.removeItem("authToken"),localStorage.removeItem("authRole"),localStorage.removeItem("full_name"),localStorage.removeItem("first_name"),localStorage.removeItem("email"),localStorage.removeItem("username")}},T={class:"bg-surface-50 dark:bg-surface-950 flex items-center justify-center min-h-screen min-w-[100vw] overflow-hidden"},P={class:"flex flex-col items-center justify-center"},R={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%)"}},B={class:"w-full bg-surface-0 dark:bg-surface-900 py-20 px-8 sm:px-20",style:{"border-radius":"53px"}},K=o("div",{class:"text-center mb-8"},[o("img",{src:w,alt:"",width:"250px",height:"auto",class:"mx-auto mb-4"}),o("span",{class:"text-muted-color font-medium"},"Entre para continuar")],-1),N=o("label",{for:"username1",class:"block text-surface-900 dark:text-surface-0 text-xl font-medium mb-2"},"Usuário",-1),U=o("label",{for:"password1",class:"block text-surface-900 dark:text-surface-0 font-medium text-xl mb-2"},"Senha",-1);function q(a,s,t,r,e,i){const m=c,d=E,u=I,p=k,f=V,h=S;return y(),v(b,null,[n(m),o("div",T,[o("div",P,[o("div",R,[o("div",B,[K,o("div",null,[N,n(d,{invalid:e.invalid,id:"username1",type:"text",placeholder:"Usuário",class:"w-full md:w-[30rem] mb-8",modelValue:e.username,"onUpdate:modelValue":s[0]||(s[0]=l=>e.username=l)},null,8,["invalid","modelValue"]),U,n(u,{invalid:e.invalid,id:"password1",modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=l=>e.password=l),placeholder:"Senha",toggleMask:!0,class:"mb-8",fluid:"",feedback:!1,onKeyup:x(i.login,["enter"])},null,8,["invalid","modelValue","onKeyup"]),n(p,{label:"Entrar",class:"w-full mt-2",loading:e.loading,onClick:i.login},null,8,["loading","onClick"])])])])])]),n(f),n(h)],64)}const W=_(F,[["render",q]]);export{W as default};
